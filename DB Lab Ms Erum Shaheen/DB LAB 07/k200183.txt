__________________________________________________________DB-LAB07__________________________________________________________



-------------------------TASK1-------------------------

-- Generated by Oracle SQL Developer Data Modeler 4.1.1.888
--   at:        2022-10-16 19:30:19 PKT
--   site:      Oracle Database 11g
--   type:      Oracle Database 11g




CREATE
  TABLE Author
  (
    "A_E-Mail-id" VARCHAR2 (20) NOT NULL ,
    Fname         VARCHAR2 (20) ,
    LName         VARCHAR2 (20)
  ) ;
ALTER TABLE Author ADD CONSTRAINT Author_PK PRIMARY KEY ( "A_E-Mail-id" ) ;


CREATE
  TABLE Papers
  (
    P_ID                 VARCHAR2 (20) NOT NULL ,
    Title                VARCHAR2 (20) ,
    Abstract             VARCHAR2 (20) ,
    NameofFile           VARCHAR2 (20) ,
    "Author_A_E-Mail-id" VARCHAR2 (20) NOT NULL
  ) ;
ALTER TABLE Papers ADD CONSTRAINT Papers_PK PRIMARY KEY ( P_ID ) ;


CREATE
  TABLE Relation_3
  (
    Reviewer_R_Email_ID VARCHAR2 (20) NOT NULL ,
    Papers_P_ID         VARCHAR2 (20) NOT NULL
  ) ;
ALTER TABLE Relation_3 ADD CONSTRAINT Relation_3_PK PRIMARY KEY (
Reviewer_R_Email_ID, Papers_P_ID ) ;


CREATE
  TABLE Reviewer
  (
    R_Email_ID VARCHAR2 (20) NOT NULL ,
    fname      VARCHAR2 (20) ,
    lname      VARCHAR2 (20) ,
    ph_no      VARCHAR2 (20) ,
    affliation VARCHAR2 (20) ,
    TOI        VARCHAR2 (20)
  ) ;
ALTER TABLE Reviewer ADD CONSTRAINT Reviewer_PK PRIMARY KEY ( R_Email_ID ) ;


ALTER TABLE Relation_3 ADD CONSTRAINT FK_ASS_2 FOREIGN KEY (
Reviewer_R_Email_ID ) REFERENCES Reviewer ( R_Email_ID ) ;

ALTER TABLE Relation_3 ADD CONSTRAINT FK_ASS_3 FOREIGN KEY ( Papers_P_ID )
REFERENCES Papers ( P_ID ) ;

ALTER TABLE Papers ADD CONSTRAINT Papers_Author_FK FOREIGN KEY (
"Author_A_E-Mail-id" ) REFERENCES Author ( "A_E-Mail-id" ) ;


-- Oracle SQL Developer Data Modeler Summary Report: 
-- 
-- CREATE TABLE                             4
-- CREATE INDEX                             0
-- ALTER TABLE                              7
-- CREATE VIEW                              0
-- ALTER VIEW                               0
-- CREATE PACKAGE                           0
-- CREATE PACKAGE BODY                      0
-- CREATE PROCEDURE                         0
-- CREATE FUNCTION                          0
-- CREATE TRIGGER                           0
-- ALTER TRIGGER                            0
-- CREATE COLLECTION TYPE                   0
-- CREATE STRUCTURED TYPE                   0
-- CREATE STRUCTURED TYPE BODY              0
-- CREATE CLUSTER                           0
-- CREATE CONTEXT                           0
-- CREATE DATABASE                          0
-- CREATE DIMENSION                         0
-- CREATE DIRECTORY                         0
-- CREATE DISK GROUP                        0
-- CREATE ROLE                              0
-- CREATE ROLLBACK SEGMENT                  0
-- CREATE SEQUENCE                          0
-- CREATE MATERIALIZED VIEW                 0
-- CREATE SYNONYM                           0
-- CREATE TABLESPACE                        0
-- CREATE USER                              0
-- 
-- DROP TABLESPACE                          0
-- DROP DATABASE                            0
-- 
-- REDACTION POLICY                         0
-- 
-- ORDS DROP SCHEMA                         0
-- ORDS ENABLE SCHEMA                       0
-- ORDS ENABLE OBJECT                       0
-- 
-- ERRORS                                   0
-- WARNINGS                                 0



-------------------------TASK2-------------------------

-- Generated by Oracle SQL Developer Data Modeler 4.1.1.888
--   at:        2022-10-11 14:25:41 PKT
--   site:      Oracle Database 11g
--   type:      Oracle Database 11g




CREATE
  TABLE College
  (
    CPhone VARCHAR2 (20) ,
    CName CLOB ,
    COffice    VARCHAR2 (20) ,
    College_ID NUMBER NOT NULL
  ) ;
ALTER TABLE College ADD CONSTRAINT College_PK PRIMARY KEY ( College_ID ) ;


CREATE
  TABLE Dept
  (
    DName              VARCHAR2 (20) ,
    DCode              VARCHAR2 (20) NOT NULL ,
    DOffice            VARCHAR2 (20) ,
    DPhone             VARCHAR2 (20) ,
    College_College_ID NUMBER NOT NULL
  ) ;
ALTER TABLE Dept ADD CONSTRAINT Dept_PK PRIMARY KEY ( DCode ) ;


CREATE
  TABLE Instructor
  (
    ID                 INTEGER NOT NULL ,
    Rank               VARCHAR2 (10) ,
    IOffice            VARCHAR2 (20) ,
    IName              VARCHAR2 (20) ,
    IPhone             VARCHAR2 (20) ,
    College_College_ID NUMBER NOT NULL
  ) ;
ALTER TABLE Instructor ADD CONSTRAINT Instructor_PK PRIMARY KEY ( ID ) ;


CREATE
  TABLE Relation_2
  (
    Instructor_ID INTEGER NOT NULL ,
    section_Secid INTEGER NOT NULL
  ) ;
ALTER TABLE Relation_2 ADD CONSTRAINT Relation_2_PK PRIMARY KEY ( Instructor_ID
, section_Secid ) ;


CREATE
  TABLE Relation_3
  (
    Instructor_ID INTEGER NOT NULL ,
    students_Sid  INTEGER NOT NULL
  ) ;
ALTER TABLE Relation_3 ADD CONSTRAINT Relation_3_PK PRIMARY KEY ( Instructor_ID
, students_Sid ) ;


CREATE
  TABLE Relation_5
  (
    students_Sid  INTEGER NOT NULL ,
    section_Secid INTEGER NOT NULL
  ) ;
ALTER TABLE Relation_5 ADD CONSTRAINT Relation_5_PK PRIMARY KEY ( students_Sid,
section_Secid ) ;


CREATE
  TABLE Relation_6
  (
    Dept_DCode   VARCHAR2 (20) NOT NULL ,
    course_CCode VARCHAR2 (20) NOT NULL
  ) ;
ALTER TABLE Relation_6 ADD CONSTRAINT Relation_6_PK PRIMARY KEY ( Dept_DCode,
course_CCode ) ;


CREATE
  TABLE Relation_7
  (
    course_CCode  VARCHAR2 (20) NOT NULL ,
    section_Secid INTEGER NOT NULL
  ) ;
ALTER TABLE Relation_7 ADD CONSTRAINT Relation_7_PK PRIMARY KEY ( course_CCode,
section_Secid ) ;


CREATE
  TABLE course
  (
    CCode   VARCHAR2 (20) NOT NULL ,
    Credits VARCHAR2 (20) ,
    CoName  VARCHAR2 (20) ,
    "Level" VARCHAR2 (20) ,
    CDesc   VARCHAR2 (20)
  ) ;
ALTER TABLE course ADD CONSTRAINT course_PK PRIMARY KEY ( CCode ) ;


CREATE
  TABLE section
  (
    Secid    INTEGER NOT NULL ,
    Secno    VARCHAR2 (20) ,
    Sem      VARCHAR2 (20) ,
    YEAR     VARCHAR2 (20) ,
    CRoom    VARCHAR2 (20) ,
    DaysTime DATE
  ) ;
ALTER TABLE section ADD CONSTRAINT section_PK PRIMARY KEY ( Secid ) ;


CREATE
  TABLE students
  (
    Sid   INTEGER NOT NULL ,
    Fname VARCHAR2 (20) ,
    MName VARCHAR2 (20) ,
    LName VARCHAR2 (20) ,
    SName VARCHAR2 (20) ,
    DOB   VARCHAR2 (20) ,
    Addr  VARCHAR2 (20) ,
    Phone VARCHAR2 (20) ,
    Major VARCHAR2 (20)
  ) ;
ALTER TABLE students ADD CONSTRAINT students_PK PRIMARY KEY ( Sid ) ;


ALTER TABLE Dept ADD CONSTRAINT Dept_College_FK FOREIGN KEY (
College_College_ID ) REFERENCES College ( College_ID ) ;

ALTER TABLE Relation_6 ADD CONSTRAINT FK_ASS_10 FOREIGN KEY ( course_CCode )
REFERENCES course ( CCode ) ;

ALTER TABLE Relation_7 ADD CONSTRAINT FK_ASS_11 FOREIGN KEY ( course_CCode )
REFERENCES course ( CCode ) ;

ALTER TABLE Relation_7 ADD CONSTRAINT FK_ASS_12 FOREIGN KEY ( section_Secid )
REFERENCES section ( Secid ) ;

ALTER TABLE Relation_2 ADD CONSTRAINT FK_ASS_2 FOREIGN KEY ( Instructor_ID )
REFERENCES Instructor ( ID ) ;

ALTER TABLE Relation_2 ADD CONSTRAINT FK_ASS_3 FOREIGN KEY ( section_Secid )
REFERENCES section ( Secid ) ;

ALTER TABLE Relation_3 ADD CONSTRAINT FK_ASS_4 FOREIGN KEY ( Instructor_ID )
REFERENCES Instructor ( ID ) ;

ALTER TABLE Relation_3 ADD CONSTRAINT FK_ASS_5 FOREIGN KEY ( students_Sid )
REFERENCES students ( Sid ) ;

ALTER TABLE Relation_5 ADD CONSTRAINT FK_ASS_7 FOREIGN KEY ( students_Sid )
REFERENCES students ( Sid ) ;

ALTER TABLE Relation_5 ADD CONSTRAINT FK_ASS_8 FOREIGN KEY ( section_Secid )
REFERENCES section ( Secid ) ;

ALTER TABLE Relation_6 ADD CONSTRAINT FK_ASS_9 FOREIGN KEY ( Dept_DCode )
REFERENCES Dept ( DCode ) ;

ALTER TABLE Instructor ADD CONSTRAINT Instructor_College_FK FOREIGN KEY (
College_College_ID ) REFERENCES College ( College_ID ) ;

CREATE SEQUENCE College_College_ID_SEQ START WITH 1 NOCACHE ORDER ;
CREATE OR REPLACE TRIGGER College_College_ID_TRG BEFORE
  INSERT
    ON College FOR EACH ROW WHEN
    (
      NEW.College_ID IS NULL
    )
    BEGIN :NEW.College_ID := College_College_ID_SEQ.NEXTVAL;
END;
/


-- Oracle SQL Developer Data Modeler Summary Report: 
-- 
-- CREATE TABLE                            11
-- CREATE INDEX                             0
-- ALTER TABLE                             23
-- CREATE VIEW                              0
-- ALTER VIEW                               0
-- CREATE PACKAGE                           0
-- CREATE PACKAGE BODY                      0
-- CREATE PROCEDURE                         0
-- CREATE FUNCTION                          0
-- CREATE TRIGGER                           1
-- ALTER TRIGGER                            0
-- CREATE COLLECTION TYPE                   0
-- CREATE STRUCTURED TYPE                   0
-- CREATE STRUCTURED TYPE BODY              0
-- CREATE CLUSTER                           0
-- CREATE CONTEXT                           0
-- CREATE DATABASE                          0
-- CREATE DIMENSION                         0
-- CREATE DIRECTORY                         0
-- CREATE DISK GROUP                        0
-- CREATE ROLE                              0
-- CREATE ROLLBACK SEGMENT                  0
-- CREATE SEQUENCE                          1
-- CREATE MATERIALIZED VIEW                 0
-- CREATE SYNONYM                           0
-- CREATE TABLESPACE                        0
-- CREATE USER                              0
-- 
-- DROP TABLESPACE                          0
-- DROP DATABASE                            0
-- 
-- REDACTION POLICY                         0
-- 
-- ORDS DROP SCHEMA                         0
-- ORDS ENABLE SCHEMA                       0
-- ORDS ENABLE OBJECT                       0
-- 
-- ERRORS                                   0
-- WARNINGS                                 0


-------------------------TASK3-------------------------


CREATE
  TABLE Customers
  (
    Customer_ID INTEGER NOT NULL ,
    Name CLOB ,
    Product_name CLOB ,
    Quantity              INTEGER ,
    Address               VARCHAR2 (20) ,
    Employees_Employee_ID INTEGER NOT NULL
  ) ;
ALTER TABLE Customers ADD CONSTRAINT Customers_PK PRIMARY KEY ( Customer_ID ) ;


CREATE
  TABLE Employee
  (
    Employee_ID INTEGER NOT NULL ,
    First_name  VARCHAR2 (20) ,
    Last_name   VARCHAR2 (20) ,
    Address     VARCHAR2 (20)
  ) ;
ALTER TABLE Employee ADD CONSTRAINT Employees_PK PRIMARY KEY ( Employee_ID ) ;


CREATE
  TABLE Products
  (
    Product_ID INTEGER NOT NULL ,
    Name CLOB ,
    Price                 NUMBER (2) ,
    stock                 INTEGER ,
    Employees_Employee_ID INTEGER NOT NULL
  ) ;
ALTER TABLE Products ADD CONSTRAINT Products_PK PRIMARY KEY ( Product_ID ) ;


CREATE
  TABLE orders
  (
    Order_no              INTEGER NOT NULL ,
    Quantity              INTEGER ,
    Shipped_date          DATE ,
    Recieved_Date         DATE ,
    Customers_Customer_ID INTEGER NOT NULL
  ) ;
ALTER TABLE orders ADD CONSTRAINT orders_PK PRIMARY KEY ( Order_no ) ;


ALTER TABLE Customers ADD CONSTRAINT Customers_Employees_FK FOREIGN KEY (
Employees_Employee_ID ) REFERENCES Employee ( Employee_ID ) ;

ALTER TABLE Products ADD CONSTRAINT Products_Employees_FK FOREIGN KEY (
Employees_Employee_ID ) REFERENCES Employee ( Employee_ID ) ;

ALTER TABLE orders ADD CONSTRAINT orders_Customers_FK FOREIGN KEY (
Customers_Customer_ID ) REFERENCES Customers ( Customer_ID ) ;

DESC CUSTOMERS;
DESC EMPLOYEE;
desc PRODUCTS;
desc ORDERS;

INSERT INTO EMPLOYEE VALUES(987,'YUNO','GRINBARIYALL','SPADE');
INSERT INTO EMPLOYEE VALUES(988,'ASTA','STARIA','HAGE');
INSERT INTO EMPLOYEE VALUES(986,'NOELLE','SILVA','CLOVER');

INSERT INTO CUSTOMERS VALUES(123,'ALEX','COCOMO',5,'PECHS 6',987);
INSERT INTO CUSTOMERS VALUES(124,'ALLEN','PRINCE',6,'PECHS 6',987);
INSERT INTO CUSTOMERS VALUES(125,'ALLEY','OREO',7,'PECHS 6',988);

INSERT INTO PRODUCTS VALUES(1,'COCOMO',5,20,987);
INSERT INTO PRODUCTS VALUES(2,'PRINCE',7,17,986);
INSERT INTO PRODUCTS VALUES(3,'OREO',4,15,988);


INSERT INTO ORDERS VALUES(5,5,'01-JAN-00','02-JAN-00',123);
INSERT INTO ORDERS VALUES(6,6,'03-MAY-20','04-MAY-20',124);
INSERT INTO ORDERS VALUES(7,7,'04-FEB-23','27-FEB-23',125);

SELECT * FROM EMPLOYEE;
SELECT * FROM CUSTOMERS;
SELECT * FROM PRODUCTS;
SELECT * FROM ORDERS;


